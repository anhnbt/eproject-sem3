# Biểu đồ luồng dữ liệu (Data Flow Diagram - DFD)

## Context Diagram (DFD Level 0)

```
                                  +-----------------------+
      +----------------------+    |                       |    +----------------------+
      |                      |    |                       |    |                      |
      |  Bệnh nhân           |<-->|                       |<-->|  Bác sĩ              |
      |                      |    |                       |    |                      |
      +----------------------+    |                       |    +----------------------+
                                  |                       |
      +----------------------+    |    Hệ thống           |    +----------------------+
      |                      |    |    Quản lý            |    |                      |
      |  Lễ tân              |<-->|    Phòng khám         |<-->|  Quản trị viên       |
      |                      |    |                       |    |                      |
      +----------------------+    |                       |    +----------------------+
                                  |                       |
      +----------------------+    |                       |    +----------------------+
      |                      |    |                       |    |                      |
      |  Y tá                |<-->|                       |<-->|  Hệ thống báo cáo    |
      |                      |    |                       |    |                      |
      +----------------------+    +-----------------------+    +----------------------+
```

## Level 1 DFD

### 1. Quản lý người dùng

```
      +----------------+        +----------------+        +----------------+
      |                |        |                |        |                |
      | Đăng ký        |------->| Xác thực       |------->| Phân quyền     |
      | người dùng     |        | đăng nhập      |        | người dùng     |
      |                |        |                |        |                |
      +----------------+        +----------------+        +----------------+
              |                        |                         |
              v                        v                         v
      +-------------------------------------------------------+
      |                                                       |
      |                  Cơ sở dữ liệu người dùng             |
      |                                                       |
      +-------------------------------------------------------+
```

### 2. Quản lý bệnh nhân

```
      +----------------+        +----------------+        +----------------+
      |                |        |                |        |                |
      | Đăng ký        |------->| Cập nhật       |------->| Tìm kiếm       |
      | bệnh nhân      |        | thông tin      |        | bệnh nhân      |
      |                |        |                |        |                |
      +----------------+        +----------------+        +----------------+
              |                        |                         |
              v                        v                         v
      +-------------------------------------------------------+
      |                                                       |
      |                  Cơ sở dữ liệu bệnh nhân              |
      |                                                       |
      +-------------------------------------------------------+
```

### 3. Quản lý lịch hẹn

```
      +----------------+        +----------------+        +----------------+
      |                |        |                |        |                |
      | Đặt lịch       |------->| Cập nhật       |------->| Hủy lịch       |
      | hẹn            |        | lịch hẹn       |        | hẹn            |
      |                |        |                |        |                |
      +----------------+        +----------------+        +----------------+
              |                        |                         |
              v                        v                         v
      +-------------------------------------------------------+
      |                                                       |
      |                  Cơ sở dữ liệu lịch hẹn               |
      |                                                       |
      +-------------------------------------------------------+
              |                        |                         |
              v                        v                         v
      +----------------+        +----------------+        +----------------+
      |                |        |                |        |                |
      | Thông báo      |        | Kiểm tra       |        | Báo cáo        |
      | lịch hẹn       |        | trùng lịch     |        | lịch hẹn       |
      |                |        |                |        |                |
      +----------------+        +----------------+        +----------------+
```

### 4. Quản lý khám bệnh

```
      +----------------+        +----------------+        +----------------+
      |                |        |                |        |                |
      | Tiếp nhận      |------->| Khám bệnh      |------->| Cập nhật       |
      | bệnh nhân      |        |                |        | hồ sơ          |
      |                |        |                |        |                |
      +----------------+        +----------------+        +----------------+
              |                        |                         |
              v                        v                         v
      +-------------------------------------------------------+
      |                                                       |
      |                  Cơ sở dữ liệu bệnh án                |
      |                                                       |
      +-------------------------------------------------------+
              |
              v
      +----------------+        +----------------+
      |                |        |                |
      | Kê đơn         |------->| Xuất viện      |
      | thuốc          |        |                |
      |                |        |                |
      +----------------+        +----------------+
```

### 5. Quản lý thuốc và đơn thuốc

```
      +----------------+        +----------------+        +----------------+
      |                |        |                |        |                |
      | Quản lý        |------->| Kê đơn         |------->| In đơn         |
      | thuốc          |        | thuốc          |        | thuốc          |
      |                |        |                |        |                |
      +----------------+        +----------------+        +----------------+
              |                        |                         |
              v                        v                         v
      +-------------------------------------------------------+
      |                                                       |
      |         Cơ sở dữ liệu thuốc và đơn thuốc             |
      |                                                       |
      +-------------------------------------------------------+
              |
              v
      +----------------+        +----------------+
      |                |        |                |
      | Cảnh báo       |        | Báo cáo        |
      | hết hàng       |        | sử dụng        |
      |                |        |                |
      +----------------+        +----------------+
```

### 6. Quản lý thanh toán

```
      +----------------+        +----------------+        +----------------+
      |                |        |                |        |                |
      | Tính phí       |------->| Xử lý          |------->| In hóa         |
      | dịch vụ        |        | thanh toán     |        | đơn            |
      |                |        |                |        |                |
      +----------------+        +----------------+        +----------------+
              |                        |                         |
              v                        v                         v
      +-------------------------------------------------------+
      |                                                       |
      |                 Cơ sở dữ liệu thanh toán              |
      |                                                       |
      +-------------------------------------------------------+
              |
              v
      +----------------+
      |                |
      | Báo cáo        |
      | doanh thu      |
      |                |
      +----------------+
```

### 7. Hệ thống báo cáo

```
      +----------------+        +----------------+        +----------------+
      |                |        |                |        |                |
      | Báo cáo        |        | Báo cáo        |        | Báo cáo        |
      | bệnh nhân      |        | doanh thu      |        | thuốc          |
      |                |        |                |        |                |
      +----------------+        +----------------+        +----------------+
              |                        |                         |
              v                        v                         v
      +-------------------------------------------------------+
      |                                                       |
      |                  Hệ thống tạo báo cáo                 |
      |                                                       |
      +-------------------------------------------------------+
              |
              v
      +----------------+        +----------------+
      |                |        |                |
      | Xuất           |        | Gửi            |
      | PDF/Excel      |        | email          |
      |                |        |                |
      +----------------+        +----------------+
```

## Level 2 DFD - Quy trình đặt lịch hẹn

```
+-------------+          +--------------+          +-------------+
|             |          |              |          |             |
| Bệnh nhân   |--------->| Lễ tân       |--------->| Hệ thống    |
| yêu cầu     |          | nhập thông   |          | kiểm tra    |
| đặt lịch    |          | tin          |          | lịch bác sĩ |
|             |          |              |          |             |
+-------------+          +--------------+          +-------------+
                                                        |
                                                        |
                                                        v
+-------------+          +--------------+          +-------------+
|             |          |              |          |             |
| Thông báo   |<---------| Gửi xác nhận |<---------| Lưu lịch    |
| cho bác sĩ  |          | đặt lịch     |          | hẹn         |
| và bệnh nhân|          |              |          |             |
+-------------+          +--------------+          +-------------+
```

## Level 2 DFD - Quy trình khám bệnh và kê đơn

```
+-------------+          +--------------+          +-------------+
|             |          |              |          |             |
| Bệnh nhân   |--------->| Lễ tân       |--------->| Bác sĩ      |
| check-in    |          | xác nhận     |          | khám        |
|             |          | đến khám     |          | bệnh        |
+-------------+          +--------------+          +-------------+
                                                        |
                                                        |
                                                        v
+-------------+          +--------------+          +-------------+
|             |          |              |          |             |
| In đơn      |<---------| Kê đơn       |<---------| Cập nhật    |
| thuốc       |          | thuốc        |          | hồ sơ       |
|             |          |              |          |             |
+-------------+          +--------------+          +-------------+
     |
     |
     v
+-------------+          +--------------+
|             |          |              |
| Thanh toán  |--------->| Xuất viện    |
|             |          |              |
|             |          |              |
+-------------+          +--------------+
```
